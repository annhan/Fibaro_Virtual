{"name":"Giao tiep Sim V2","type":"virtual_device","properties":{"deviceIcon":0,"currentIcon":"0","log":"","logTemp":"","mainLoop":"local id = fibaro:getSelfId()\nlocal sdt = fibaro:get(id,\"ui.lblmk.value\")\nif sdt==\"OK\" then\n    fibaro:sleep(60*1000)\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", \"Qúa thời gian\")\n  fibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Nhập Lại Mật Khẩu\")\n    end","ui.lblmk.value":"Qúa thời gian","ui.lblsdt1.value":" 0966461323","ui.lblsdt2.value":" 0937997110","ui.lblsdt3.value":" 0913699545","ui.lblsdt4.value":"","ui.lbltrangthai.value":"Nhập Lại Mật Khẩu","visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Trạng Thái :","name":"lbltrangthai","favourite":false,"main":false}]},{"type":"label","elements":[{"id":2,"lua":false,"waitForResponse":false,"caption":"Mật Khẩu : ","name":"lblmk","favourite":false,"main":false}]},{"type":"label","elements":[{"id":3,"lua":false,"waitForResponse":false,"caption":"SDT 1 :","name":"lblsdt1","favourite":false,"main":false}]},{"type":"label","elements":[{"id":4,"lua":false,"waitForResponse":false,"caption":"SDT 2 :","name":"lblsdt2","favourite":false,"main":false}]},{"type":"label","elements":[{"id":5,"lua":false,"waitForResponse":false,"caption":"SDT 3 :","name":"lblsdt3","favourite":false,"main":false}]},{"type":"label","elements":[{"id":6,"lua":false,"waitForResponse":false,"caption":"SDT 4 :","name":"lblsdt4","favourite":false,"main":false}]},{"type":"button","elements":[{"id":7,"lua":true,"waitForResponse":false,"caption":"Nhập Mật Khẩu","name":"Button11","empty":false,"msg":"local alarmClockDevice = fibaro:getSelfId()\nfibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"Đang Nhập Mật Khẩu\")\nfibaro:call(alarmClockDevice,\"setProperty\",\"ui.lblmk.value\", \" \")","buttonIcon":0,"favourite":false,"main":true}]},{"type":"button","elements":[{"id":8,"lua":true,"waitForResponse":false,"caption":"SDT 1","name":"Button21","empty":false,"msg":"local id = fibaro:getSelfId()\nlocal mk = fibaro:get(id,\"ui.lblmk.value\")\nif mk==\"OK\" then\nfibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Số Điện Thoại 1\")\nfibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", \" \")\nelse\n  fibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Chưa Nhập Mật Khẩu\")\nend","buttonIcon":0,"favourite":false,"main":false},{"id":9,"lua":true,"waitForResponse":false,"caption":"SDT 2","name":"Button22","empty":false,"msg":"local id = fibaro:getSelfId()\nlocal mk = fibaro:get(id,\"ui.lblmk.value\")\nif mk==\"OK\" then\nfibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Số Điện Thoại 2\")\nfibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", \" \")\nelse\n  fibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Chưa Nhập Mật Khẩu\")\nend","buttonIcon":0,"favourite":false,"main":false},{"id":10,"lua":true,"waitForResponse":false,"caption":"SDT 3","name":"Button23","empty":false,"msg":"local id= fibaro:getSelfId()\nlocal mk = fibaro:get(id,\"ui.lblmk.value\")\nif mk==\"OK\" then\nfibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Số Điện Thoại 3\")\nfibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", \" \")\nelse\n  fibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Chưa Nhập Mật Khẩu\")\nend","buttonIcon":0,"favourite":false,"main":false},{"id":11,"lua":true,"waitForResponse":false,"caption":"SDT 4","name":"Button24","empty":false,"msg":"local id = fibaro:getSelfId()\nlocal mk = fibaro:get(id,\"ui.lblmk.value\")\nif mk==\"OK\" then\nfibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Số Điện Thoại 1\")\nfibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", \" \")\nelse\n  fibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Chưa Nhập Mật Khẩu\")\nend","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":12,"lua":true,"waitForResponse":false,"caption":"1","name":"Button31","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"1\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"1\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"1\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"1\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"1\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":13,"lua":true,"waitForResponse":false,"caption":"2","name":"Button32","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"2\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"2\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"2\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"2\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"2\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":14,"lua":true,"waitForResponse":false,"caption":"3","name":"Button33","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"3\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"3\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"3\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"3\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"3\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":15,"lua":true,"waitForResponse":false,"caption":"4","name":"Button41","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"4\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"4\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"4\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"4\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"4\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":16,"lua":true,"waitForResponse":false,"caption":"5","name":"Button42","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"5\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"5\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"5\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"5\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"5\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":17,"lua":true,"waitForResponse":false,"caption":"6","name":"Button43","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"6\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"6\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"6\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"6\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"6\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":18,"lua":true,"waitForResponse":false,"caption":"7","name":"Button51","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"7\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"7\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"7\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"7\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"7\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":19,"lua":true,"waitForResponse":false,"caption":"8","name":"Button52","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"8\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"8\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"8\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"8\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"8\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":20,"lua":true,"waitForResponse":false,"caption":"9","name":"Button53","empty":false,"msg":"local id = fibaro:getSelfId()\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"9\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"9\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"9\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"9\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"9\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":21,"lua":true,"waitForResponse":false,"caption":"Del","name":"Button61","empty":false,"msg":"local id = fibaro:getSelfId()\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  local sotu=string.len(newora)\n  newora=string.reverse(newora)\n  fibaro:debug(newora)\n  newora=string.sub(newora, -(sotu-1))\n  fibaro:debug(newora)\n  newora=string.reverse(newora)\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  local sotu=string.len(newora)\n  newora=string.reverse(newora)\n  fibaro:debug(newora)\n  newora=string.sub(newora, -(sotu-1))\n  fibaro:debug(newora)\n  newora=string.reverse(newora)\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  local sotu=string.len(newora)\n  newora=string.reverse(newora)\n  fibaro:debug(newora)\n  newora=string.sub(newora, -(sotu-1))\n  fibaro:debug(newora)\n  newora=string.reverse(newora)\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  local sotu=string.len(newora)\n  newora=string.reverse(newora)\n  fibaro:debug(newora)\n  newora=string.sub(newora, -(sotu-1))\n  fibaro:debug(newora)\n  newora=string.reverse(newora)\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  local sotu=string.len(newora)\n  newora=string.reverse(newora)\n  fibaro:debug(newora)\n  newora=string.sub(newora, -(sotu-1))\n  fibaro:debug(newora)\n  newora=string.reverse(newora)\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":22,"lua":true,"waitForResponse":false,"caption":"0","name":"Button62","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt = fibaro:get(id,\"ui.lbltrangthai.value\")\nif sdt==\"Số Điện Thoại 1\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt1.value\")\n  fibaro:debug(newora)\n  newora=newora..\"0\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt1.value\", newora)\nelseif sdt==\"Số Điện Thoại 2\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt2.value\")\n  fibaro:debug(newora)\n  newora=newora..\"0\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt2.value\", newora)\nelseif sdt==\"Số Điện Thoại 3\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt3.value\")\n  fibaro:debug(newora)\n  newora=newora..\"0\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt3.value\", newora)\nelseif sdt==\"Số Điện Thoại 4\" then\n  fibaro:debug(\"sdt 1\")\n  local newora = fibaro:get(id,\"ui.lblsdt4.value\")\n  fibaro:debug(newora)\n  newora=newora..\"0\"\n  fibaro:call(id,\"setProperty\",\"ui.lblsdt4.value\", newora)\nelseif sdt==\"Đang Nhập Mật Khẩu\" then\n  fibaro:debug(\"mk\")\n  local newora = fibaro:get(id,\"ui.lblmk.value\")\n  fibaro:debug(newora)\n  newora=newora..\"0\"\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", newora)\n  \nend\n--fibaro:call(alarmClockDevice,\"setProperty\",\"ui.lbltrangthai.value\", \"So Dien Thoai 1\")\n","buttonIcon":0,"favourite":false,"main":false},{"id":23,"lua":true,"waitForResponse":false,"caption":"Enter","name":"Button63","empty":false,"msg":"local id = fibaro:getSelfId()\nlocal matkhau=fibaro:get(id, 'IPAddress');\nmatkhau=\" \"..matkhau\nlocal sdt = fibaro:get(id,\"ui.lblmk.value\")\nif sdt==matkhau or sdt==\"OK\" then\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", \"OK\")\nelse\n  fibaro:call(id,\"setProperty\",\"ui.lblmk.value\", \"Mật Khẩu Sai\")\n  fibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Click nhập mật khẩu\")\nend","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":24,"lua":true,"waitForResponse":false,"caption":"Cập Nhật Danh Bạ","name":"Button71","empty":false,"msg":"local id = fibaro:getSelfId()\n\nlocal sdt1 = fibaro:get(id,\"ui.lblsdt1.value\")\nlocal mk = fibaro:get(id,\"ui.lblmk.value\")\nif mk==\"OK\" then\nif string.len(sdt1)>3 then\n  tcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001) \n  fibaro:debug('sdt1:'..sdt1..\".\")\n  tcpSocket:write('sdt1:'..sdt1..\".\");\ntcpSocket:disconnect();\nfibaro:sleep(2000)\n   else\n  fibaro:debug(\"no 1\")\n  end\nlocal sdt2 = fibaro:get(id,\"ui.lblsdt2.value\")\nif string.len(sdt2)>3 then\n  tcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001) \n  fibaro:debug('sdt2:'..sdt2..\".\")\n  tcpSocket:write('sdt2:'..sdt2..\".\");\ntcpSocket:disconnect();\nfibaro:sleep(2000)\n   else\n  fibaro:debug(\"no 2\")\n  end\n\nlocal sdt3 = fibaro:get(id,\"ui.lblsdt3.value\")\nif string.len(sdt3)>3 then\n  tcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001) \n  fibaro:debug('sdt3:'..sdt3..\".\")\n  tcpSocket:write('sdt3:'..sdt3..\".\");\ntcpSocket:disconnect();\nfibaro:sleep(2000)\n   else\n  fibaro:debug(\"no 3\")\n  end\nlocal sdt4 = fibaro:get(id,\"ui.lblsdt4.value\")\nif string.len(sdt4)>3 then\n  tcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001) \n  fibaro:debug('sdt4:'..sdt4..\".\")\n  tcpSocket:write('sdt4:'..sdt4..\".\");\n else\n  fibaro:debug(\"no 4\")\n  end\nelse\n    fibaro:call(id,\"setProperty\",\"ui.lbltrangthai.value\", \"Chưa Nhập Mật Khẩu\")\n  end","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":25,"lua":true,"waitForResponse":false,"caption":"Cập Nhật HC2","name":"Button81","empty":false,"msg":"ip='192.59.1.4' --Ip HC2\nuser='admin'  --user nam HC2\npassword='chotronniemvui' --Pass HC2\ntcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001)\nbien = tcpSocket:write('IPHC2:'..ip);\ntcpSocket:disconnect();\nfibaro:sleep(2000)\ntcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001)\nbien = tcpSocket:write('userHC2:'..user);\nfibaro:sleep(2000)\ntcpSocket:disconnect();\ntcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001)\nbien = tcpSocket:write('passHC2:'..password);","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":26,"lua":true,"waitForResponse":false,"caption":"SMS","name":"Button91","empty":false,"msg":"local noidung=fibaro:getGlobalValue(\"noidungtinnhan\")\nfibaro:debug(noidung)\ntcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001)\nbien = tcpSocket:write('SMS\"'..noidung..'\"');\nfibaro:debug(bien);","buttonIcon":0,"favourite":false,"main":false},{"id":27,"lua":true,"waitForResponse":false,"caption":"CALL","name":"Button92","empty":false,"msg":"tcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001) \ntcpSocket:write('CALL');","buttonIcon":0,"favourite":false,"main":false}]},{"type":"button","elements":[{"id":28,"lua":true,"waitForResponse":false,"caption":"*101#","name":"Button101","empty":false,"msg":"tcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001) \ntcpSocket:write('TK\"*101#\"');","buttonIcon":0,"favourite":false,"main":false},{"id":29,"lua":true,"waitForResponse":false,"caption":"*102#","name":"Button102","empty":false,"msg":"tcpSocket = Net.FTcpSocket(\"192.59.1.40\", 10001) \ntcpSocket:write('TK\"*102#\"');","buttonIcon":0,"favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}